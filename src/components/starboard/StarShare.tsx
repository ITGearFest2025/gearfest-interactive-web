import { useState } from "react";
import Reformer from "@/assets/starboard/reformer_Star.svg";
import Achiever from "@/assets/starboard/achiever_Star.svg";
import Helper from "@/assets/starboard/helper_Star.svg";
import Individualist from "@/assets/starboard/individualist_Star.svg";
import Investigator from "@/assets/starboard/investigator_Star.svg";
import Peacemaker from "@/assets/starboard/peacemaker_Star.svg";
import Challenger from "@/assets/starboard/challenger_Star.svg";
import Enthusiast from "@/assets/starboard/enthusiast_Star.svg";
import Loyalist from "@/assets/starboard/loyalist_Star.svg";

interface StarProperties {
  top: number;
  left: number;
  size: number;
  rotate: number;
  duration: number;
}

interface StarImageProps {
  position: StarProperties;
  star: ImageMetadata;
  onClick?: () => void;
  isHighlighted?: boolean;
}

interface StarShareProps {
  message?: string;
  indexNum: number;
}

const generateStarProperties = (): StarProperties => {
  const screen = { width: 430 * 2, height: 932 * 2 };

  let left, top;

  // Generate top, left ensuring it's not between 830 and 890
  do {
    left = Math.floor(Math.random() * screen.width - 70);
    top = Math.floor(Math.random() * screen.height - 70);
  } while (top >= 720 && top <= 1084 && left >= 250 && left <= 490);

  return {
    top,
    left,
    size: Math.max(Math.floor(Math.random() * 30) + 40, 20),
    rotate: Math.floor(Math.random() * 360),
    duration: Math.floor(Math.random() * 5) + 2,
  };
};

const getRandomMessage = ({ index }: { index: number }) => {
  const message = [
    "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÜ ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡πÜ ‡∏ô‡∏µ‡πâ ‡πÅ‡∏Ñ‡πà‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πá‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏•‡∏∞",
    "‡∏ô‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ ‡∏Å‡∏¥‡∏ô‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡πâ‡∏ß‡∏¢!",
    "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏á ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏≠‡πÄ‡∏ü‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÄ‡∏≠‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏õ‡∏ô‡∏≠‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ü§©",
    "‡πÄ‡∏•‡∏¥‡∏Å‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ã‡πâ‡∏≠‡∏ôü´µ",
    "‡∏™‡∏π‡πâ‡πÜ‡∏ô‡∏∞ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏ô‡∏±‡∏Å‡πÜ‡πÑ‡∏õ‡πÑ‡∏î‡πâ",
    "‡∏ó‡∏≥‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ß‡∏Å‡πá‡∏û‡∏≠ ‡πÄ‡∏ô‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ ‡πÄ‡∏¢‡πà‡πÜ‡πÜ‡πÜ‡πÜ",
    "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πç‡∏≤‡∏ß‡πà‡∏≤‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏™‡πç‡∏≤‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏≠",
    "‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏Ñ‡∏£‡πå‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏Ñ‡∏£‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏á‡πÄ‡∏ñ‡∏≠‡∏∞üòî",
    "‡∏ô‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏Å‡∏¥‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏á",
    "‡πÑ‡∏õ‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!",
    "‡∏ñ‡∏∂‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏ô 1 ‡∏õ‡∏µ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏ä‡∏±‡πâ‡∏ô‡∏£‡∏ß‡∏¢‡∏£‡∏∂‡∏¢‡∏±‡∏á?",
    "Be the best version of youüíñ",
    "‡∏â‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏´‡∏•‡∏∞ ‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏° ‡∏ß‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏Ñ‡∏£!",
    "‡∏≠‡πà‡∏≤‡∏´‡πå ‡∏ô‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏≠‡∏ô‡∏î‡∏π‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡∏û‡∏£‡∏¥‡πâ‡∏ß‡πÑ‡∏´‡∏ß",
    "‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡πÑ‡∏õ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏∞ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û!",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á ‡∏Å‡∏•‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡∏ô‡∏∞!",
    "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏°‡∏≤‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡∏ô‡∏∞ ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡πá‡∏û‡∏±‡∏Å‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏•‡∏∏‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ô‡∏∞!",
    "‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏•‡∏Å‡πÉ‡∏à‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡∏≠‡∏ô‡∏∞ :)",
    "‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÇ‡∏•‡∏Å‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏¢‡∏¥‡πâ‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ‡∏ô‡∏∞",
    "‡∏ñ‡πâ‡∏≤‡∏•‡∏≠‡∏á‡∏°‡∏≠‡∏á‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡πÇ‡∏ï‡∏°‡∏≤‡πÑ‡∏Å‡∏•‡∏ô‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢!",
    "‡πÄ‡∏´‡πâ! ‡πÄ‡∏ó‡∏≠‡∏´‡∏ô‡πà‡∏∞! ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ!",
    "‡∏≠‡∏¢‡∏≤‡∏Å‡πÇ‡∏ó‡∏£‡πÑ‡∏õ‡∏´‡∏≤‡πÅ‡∏°‡πà‡∏à‡∏±‡∏á‡∏á",
    "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏£‡∏∂‡∏¢‡∏±‡∏á‡∏ô‡∏∞? ‡∏≠‡πâ‡∏≠! ‡∏ö‡∏¥‡∏á‡∏ã‡∏π‡πÑ‡∏á 555655",
    "‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏à‡∏ô‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏•‡∏¢‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢ ‡∏£‡∏µ‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß! ‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏à‡∏ô‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡πà‡∏≤",
    "‡∏£‡∏π‡πâ‡πÑ‡∏´‡∏°‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏≠‡∏ó‡∏≥‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏Ç‡∏≠‡∏ä‡∏°‡πÄ‡∏•‡∏¢!",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πÜ ‡∏ô‡∏∞ ‡∏≠‡∏¢‡πà‡∏≤‡∏ù‡∏∑‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",
    "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ô‡∏∞ ‡∏à‡∏≥‡πÑ‡∏ß‡πâ‡πÄ‡∏™‡∏°‡∏≠",
    "‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πá‡∏à‡∏∞‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô üòä",
    "‡∏ó‡∏∏‡∏Å‡∏Å‡πâ‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Å‡πâ‡∏≤‡∏ß‡πÑ‡∏õ ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏¢‡∏¥‡πâ‡∏°‡∏î‡πâ‡∏ß‡∏¢!",
    "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏∞",
    "‡∏ó‡∏∏‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏°‡∏µ‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏°‡∏≠ ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ó‡πâ‡∏≠‡πÄ‡∏•‡∏¢‡∏ô‡∏∞",
    "‡∏•‡∏≠‡∏á‡∏¢‡∏¥‡πâ‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏î‡∏µ‡πÜ ‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡πÄ‡∏≠‡∏á‡πÅ‡∏´‡∏•‡∏∞!",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á",
    "‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏Ñ‡πà‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏Å‡πá‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß <3",
    "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏∏‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß",
    "‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏´‡∏°‡∏î‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏ô‡∏∞",
    "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡∏ú‡∏¥‡∏î ‡∏≠‡∏¢‡πà‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏•‡∏¢",
    "‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏à‡∏∞‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ô‡∏∞",
    "‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠",
    "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÅ‡∏ï‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç",
    "‡∏ó‡∏≥‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡πÄ‡∏≠‡∏á",
    "‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏¢‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏á‡∏à‡∏∞‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô",
    "‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡∏≠‡∏¢‡πà‡∏≤‡∏ù‡∏∑‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏ô‡∏∞",
    "‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ‡πÜ ‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏Ñ‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏ô go ‡πÜ",
    "‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏°‡∏±‡πâ‡∏á555",
    "‡πÅ‡∏°‡πâ‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏à‡∏∞‡∏¢‡∏≤‡∏Å‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÅ‡∏ô‡πà‡πÜ",
    "‡∏¢‡∏¥‡πâ‡∏°‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ‡πÜ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏Ñ‡πà‡∏∞! üå∏",
    "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÅ‡∏ï‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
    "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏£‡∏∂‡∏¢‡∏±‡∏á‡∏ô‡∏∞? ‡∏ö‡∏¥‡∏á‡∏ã‡∏π‡πÅ‡∏´‡∏•‡∏∞ 555555",
  ];
  return index && index >= 0
    ? message[index]
    : message[Math.floor(Math.random() * message.length)];
};

const getRandomStarImage = () => {
  const starImages = [
    Reformer,
    Helper,
    Achiever,
    Individualist,
    Investigator,
    Loyalist,
    Enthusiast,
    Challenger,
    Peacemaker,
  ];
  return starImages[Math.floor(Math.random() * starImages.length)];
};

const StarImage: React.FC<StarImageProps> = ({
  position,
  star,
  onClick,
  isHighlighted,
}) => (
  <img
    src={star ? star.src : Achiever.src}
    alt="Star"
    className={`absolute animate-pulse transition-transform ${
      isHighlighted ? "z-[50]" : "z-0"
    }`}
    style={{
      top: `${position.top}px`,
      left: `${position.left}px`,
      width: `${position.size}px`,
      height: `${position.size}px`,
      transform: `rotate(${position.rotate}deg)`,
      animationDuration: `${position.duration}s`,
      cursor: onClick ? "pointer" : "default",
    }}
    onClick={onClick}
  />
);

const StarShare: React.FC<StarShareProps> = ({ message, indexNum }) => {
  const [showMessage, setShowMessage] = useState<boolean>(false);
  const [selectedStar, setSelectedStar] = useState<{
    position: StarProperties;
    star: ImageMetadata;
  } | null>(null);

  const [star] = useState(getRandomStarImage);
  const [position] = useState(generateStarProperties);
  const [messageStar] = useState(
    message ? message : getRandomMessage({ index: indexNum }),
  );

  const handleStarClick = () => {
    setSelectedStar({ position, star });
    setShowMessage(true);
  };

  const closeMessage = () => {
    setShowMessage(false);
    setSelectedStar(null);
  };

  return (
    <>
      <StarImage position={position} star={star} onClick={handleStarClick} />

      {showMessage && selectedStar && (
        <>
          <StarImage
            position={selectedStar.position}
            star={selectedStar.star}
            isHighlighted
          />

          <div
            onClick={closeMessage}
            className="fixed inset-0 z-40 flex cursor-pointer flex-col items-center justify-center bg-black/50"
          >
            <div
              style={{
                background: "#807E8E",
                boxShadow: "inset 0px 0px 64px #FFFFFF",
                borderRadius: "8px",
              }}
              className="font-taviraj mx-auto flex h-auto max-h-80 min-h-20 w-fit max-w-80 min-w-40 items-center justify-center overflow-y-auto rounded-lg bg-gray-100 p-4 text-center text-white shadow-lg"
            >
              <p>{messageStar}</p>
            </div>
            <p className="font-taviraj mt-4 text-white">Tap to close</p>
          </div>
        </>
      )}
    </>
  );
};

export default StarShare;
